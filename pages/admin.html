<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Giri≈üi</title>
    <link rel="stylesheet" href="../styles/admin.css">
    
    
</head>
<body>
    <div class="user-login-button">
        <button onclick="location.href='login.html'">Kullanƒ±cƒ± Giri≈üi</button>
    </div>
    <div class="login-box">
        <div class="profile-icon">
            <img src="https://cdn-icons-png.flaticon.com/512/310/310818.png" alt="Admin Profili">
        </div>
        
        <!-- Admin Giri≈ü Yap Formu -->
        <div class="form-container" id="admin-login-form">
            <input type="text" id="admin-username" placeholder="Admin Kullanƒ±cƒ± Adƒ±" required>
            <div style="position: relative;">
                <input type="password" id="admin-password" placeholder="≈ûifre" required>
                <span class="toggle-password" onclick="togglePasswordVisibility('admin-password')">üëÅÔ∏è</span>
            </div>
            <div class="button-container">
                <button type="button" onclick="adminLogin()">Giri≈ü Yap</button>
                <div class="form-switch" onclick="showAdminForgotPasswordForm()">≈ûifremi Unuttum</div>
            </div>
        </div>

        <!-- Admin ≈ûifremi Unuttum Formu -->
        <div class="form-container forgot-password-email" id="admin-forgot-password-form" style="display: none;">
            <input type="email" id="admin-forgot-email" placeholder="E-posta" required>
            <button type="button" onclick="adminResetPassword()">≈ûifreyi G√∂nder</button>
            <div class="form-switch" onclick="hideAdminForgotPasswordForm()">Geri D√∂n</div>
        </div>

        <!-- Admin ≈ûifre Belirleme Formu -->
        <div class="form-container" id="admin-setup-form" style="display: none;">
            <input type="text" id="new-admin-username" placeholder="Yeni Kullanƒ±cƒ± Adƒ±" required>
            <div style="position: relative;">
                <input type="password" id="new-admin-password" placeholder="Yeni ≈ûifre" required>
                <span class="toggle-password" onclick="togglePasswordVisibility('new-admin-password')">üëÅÔ∏è</span>
            </div>
            <input type="email" id="new-admin-email" placeholder="E-posta" required>
            <button type="button" onclick="setupAdminCredentials()">Kaydet</button>
        </div>
    </div>

    <script>
        // ≈ûifre g√∂r√ºn√ºrl√ºƒü√º toggle fonksiyonu
        function togglePasswordVisibility(inputId) {
            const input = document.getElementById(inputId);
            input.type = (input.type === 'password') ? 'text' : 'password';
        }

        // Admin Giri≈ü Fonksiyonu
        function adminLogin() {
            const username = document.getElementById('admin-username').value;
            const password = document.getElementById('admin-password').value;

            const savedUsername = localStorage.getItem('admin-username');
            const savedPassword = localStorage.getItem('admin-password');

            if (username === savedUsername && password === savedPassword) {
                alert('Admin giri≈üi ba≈üarƒ±lƒ±!');
                window.location.href = 'home.html'; // Admin paneline y√∂nlendirme
            } else {
                alert('Kullanƒ±cƒ± adƒ± veya ≈üifre yanlƒ±≈ü.');
            }
        }

        // Admin ≈ûifremi Unuttum Fonksiyonu
        function showAdminForgotPasswordForm() {
            document.getElementById('admin-login-form').style.display = 'none';
            document.getElementById('admin-forgot-password-form').style.display = 'flex';
        }

        function hideAdminForgotPasswordForm() {
            document.getElementById('admin-login-form').style.display = 'block';
            document.getElementById('admin-forgot-password-form').style.display = 'none';
        }

        function adminResetPassword() {
            const email = document.getElementById('admin-forgot-email').value;
            const savedEmail = localStorage.getItem('admin-email');

            if (email === savedEmail) {
                alert('≈ûifre sƒ±fƒ±rlama talimatlarƒ± e-posta adresinize g√∂nderilmi≈ütir.');
                hideAdminForgotPasswordForm();
                console.log("≈ûifre sƒ±fƒ±rlama talimatlarƒ± ${email} adresine g√∂nderildi.");
            } else {
                alert('E-posta adresi bulunamadƒ±.');
            }
        }

        // Admin ≈ûifre Belirleme Fonksiyonu
        function setupAdminCredentials() {
            const username = document.getElementById('new-admin-username').value;
            const password = document.getElementById('new-admin-password').value;
            const email = document.getElementById('new-admin-email').value;

            if (username && password && email) {
                localStorage.setItem('admin-username', username);
                localStorage.setItem('admin-password', password);
                localStorage.setItem('admin-email', email);
                alert('Admin bilgileri ba≈üarƒ±yla kaydedildi.');
                document.getElementById('admin-setup-form').style.display = 'none';
                document.getElementById('admin-login-form').style.display = 'block';
            } else {
                alert('L√ºtfen t√ºm alanlarƒ± doldurun.');
            }
        }

        // Sayfa y√ºklendiƒüinde kontrol yap
        window.onload = function() {
            const savedUsername = localStorage.getItem('admin-username');

            if (!savedUsername) {
                // Admin bilgileri set edilmemi≈ü, ≈üifre belirleme formunu g√∂ster
                document.getElementById('admin-setup-form').style.display = 'flex';
                document.getElementById('admin-login-form').style.display = 'none';
            } else {
                // Admin bilgileri zaten set edilmi≈ü, giri≈ü formunu g√∂ster
                document.getElementById('admin-setup-form').style.display = 'none';
                document.getElementById('admin-login-form').style.display = 'block';
            }
        }
    </script>
</body>
</html>